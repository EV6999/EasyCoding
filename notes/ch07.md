## 并发与多线程

![大纲](./CH07-guideline.png)

#### 线程的状态:

----

NEW: 线程被创建出来但是还没有执行的时候是NEW 状态

RUNNABLE: 调用了线程的start 方法之后, 真正进入运行之前的状态. start 方法不能多次被调用,否则抛出 IllegalStateException

RUNNING: run方法在执行过程当中的状态. 

BLOCKED: 线程进入阻塞状态: 锁被其他线程占用; 主动阻塞: Thread.sleep() / join() 等; 等待阻塞: Object.wait()

DEAD: run 方法执行完毕. 或线程因异常退出.

#### 并发 (Concurrency) 与 并行 (Parallelism)

----

Concurrency - 在一个 CPU 上面按照 CPU 时间片执行不同的线程中的代码,称为并发

Parallelism - 多个 CPU 并行执行多个任务

#### Callable / Future

-----

- Callable / Future 需要配合 ThreadPoolExecutor 来使用
- Callable 是一个接口, 并且带有泛型参数, 其中有一个 call 方法, 返回值就是 Callable 指定的泛型类型.
- 当往 ThreadPoolExecutor 上 submit 一个 callable 之后会返回一个 Future 对象, callable 的 call 方法会被调用
- Future调用 get 方法会阻塞调用线程, 直到该 Future 对应的线程已经返回结果.









TBC

----

1. [CompletableFuture](<https://github.com/chinalwb/EasyCoding/issues/29>)